{"format_version":"1.0","terraform_version":"1.9.5","values":{"outputs":{"blackjack_policy_document":{"sensitive":false,"value":"{\"Statement\":[{\"Action\":[\"ecr:List*\",\"ecr:Get*\",\"ecr:Describe*\",\"ecr:DeleteRepository\",\"ecr:CreateRepository\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack\",\"arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*\"]},{\"Action\":[\"ecs:TagResource\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:UpdateService\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteService\",\"ecs:CreateService\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*\",\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack\"]},{\"Action\":[\"ecs:Describe*\",\"ecs:DeregisterTaskDefinition\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:*Target*\",\"elasticloadbalancing:*Rule*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*\"]},{\"Action\":\"elasticloadbalancing:DescribeTargetGroups\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"iam:PassRole\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::752502408032:role/ecsTaskExecutionRole\"]}],\"Version\":\"2012-10-17\"}","type":"string"},"common_policy_document":{"sensitive":false,"value":"{\"Statement\":[{\"Action\":\"acm:*Certificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":\"acm:RequestCertificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteTags\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateTags\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]},{\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:ModifyVpcEndpoint\",\"ec2:DeleteVpcEndpoints\",\"ec2:CreateVpcEndpoint\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:vpc/*\",\"arn:aws:ec2:*:*:vpc-endpoint/*\",\"arn:aws:ec2:*:*:subnet/*\",\"arn:aws:ec2:*:*:security-group/*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteCluster\",\"ecs:CreateCluster\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*\",\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":\"elasticloadbalancing:Describe*\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"elasticloadbalancing:DescribeLoadBalancers\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]}],\"Version\":\"2012-10-17\"}","type":"string"},"portfolio_policy_document":{"sensitive":false,"value":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::www.carlssonk.com/*\",\"arn:aws:s3:::www.carlssonk.com\"]},{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*BucketWebsite\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::carlssonk.com/*\",\"arn:aws:s3:::carlssonk.com\"]}],\"Version\":\"2012-10-17\"}","type":"string"},"terraform_diagram_policy_document":{"sensitive":false,"value":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::terraform.carlssonk.com/*\",\"arn:aws:s3:::terraform.carlssonk.com\"]}],\"Version\":\"2012-10-17\"}","type":"string"}},"root_module":{"child_modules":[{"address":"module.blackjack","child_modules":[{"resources":[{"address":"module.blackjack.module.alb_target_group.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3670379995","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:*Target*\",\n        \"elasticloadbalancing:*Rule*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*\",\n        \"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:*Target*\",\"elasticloadbalancing:*Rule*\"],\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["elasticloadbalancing:*Rule*","elasticloadbalancing:*Target*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*","arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.blackjack.module.alb_target_group","child_modules":[{"resources":[{"address":"module.blackjack.module.alb_target_group.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd82902e12b-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=CWU2IBD%2BaRSYLzbpypLy6%2FcZB7cN6PTkDMYuXU8is3EfeKX5szr3ajhyOJwF1%2FwgzkQ%2FSG%2BSOkQsViB5hc%2Bg5sZuRyLfyhCK4%2BTpIMJ435TkZ%2FJqGW93OA47hFIv88Zpms9C8w%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=VupRNfpRa8ahge3QtHxULJF7ry08bHYJb4wIMr0TGP4-1726544864-1.0.1.1-WwJ5NB3aNGeP3QB_5tyAFbGH03sHcRfj0_pUt0pM.ouc.Hp3P8ospIM.R2.BEbiKuGEI4kXBtnYekYHcogNxX7vjYdpgyfodBG_27pS09aA; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.alb_target_group.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd8092586cf-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=J%2FNCuW5rRJsQ%2BAAZzmdS%2F9uec%2BhaaKjtdHD0ZMo%2FwtvnzsmNf0II%2FIT6HLGBjUz%2BnX0%2B1mcJMdTuXuScJttqM9bKU9SQO9uMsmxKnsM7ro6hhFU%2B%2FH0EFRO4JjrDjDSvp2fX8g%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=H6SZG9BV8QtD1.liTomI8bTyR6HzqC9f7ezWj5K2TOc-1726544864-1.0.1.1-GuWogdRuLLw6RUjpNwSiR_Tj6J5UuYS6WdHwQkv0uC_Skh.nFSkBSnVmva4tKpuD9hsDz1GzltCHL9_HlfVX8QYpqP9q8jtcGfRUm4M2i7o; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.alb_target_group.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.blackjack.module.alb_target_group.module.globals"}]},{"resources":[{"address":"module.blackjack.module.ecs_service.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2196172396","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:UpdateService\",\n        \"ecs:List*\",\n        \"ecs:Get*\",\n        \"ecs:Describe*\",\n        \"ecs:DeleteService\",\n        \"ecs:CreateService\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*\",\n        \"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecr:List*\",\n        \"ecr:Get*\",\n        \"ecr:Describe*\",\n        \"ecr:DeleteRepository\",\n        \"ecr:CreateRepository\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack\",\n        \"arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ecs:UpdateService\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteService\",\"ecs:CreateService\"],\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*\",\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack\"]},{\"Effect\":\"Allow\",\"Action\":[\"ecr:List*\",\"ecr:Get*\",\"ecr:Describe*\",\"ecr:DeleteRepository\",\"ecr:CreateRepository\"],\"Resource\":[\"arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack\",\"arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ecs:CreateService","ecs:DeleteService","ecs:Describe*","ecs:Get*","ecs:List*","ecs:UpdateService"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack","arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*"],"sid":""},{"actions":["ecr:CreateRepository","ecr:DeleteRepository","ecr:Describe*","ecr:Get*","ecr:List*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*","arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]},{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.blackjack.module.ecs_service","child_modules":[{"resources":[{"address":"module.blackjack.module.ecs_service.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd89e7a61f4-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=OJ1H4d%2ByOQXTGnJgYcfYmDPRp173ErkNMT%2FNWVSW4jjMHjxWHNMfDklrVL2nZ3EbNFwpZD2KCljUNs0KHibGl%2B8dBXXpgMwM2VLxi%2BmB2yfsLiTh%2Bl%2FRikTsDgB59wk%2BPnMGuw%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=0jdhYV04L0f2AC9ci_hmBPZioOYTU6zF6g8x3uyZJEk-1726544864-1.0.1.1-v3C0AmXfb1MvpK9U6Nrp84ODJRCw4GOKlKB8VJGTpZikLtD2vtJWoCCWIUJI68xOBbvTh6vZ2GNR6Jfm_fM2r7YFpw84RcGQmOspEyKFZ.E; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.ecs_service.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37869","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd7aff12986-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=8csR%2BQMk%2B7UOsl3XbUYD3WxI0q2Z8zsxA7UbE3OCAqMTYVjctlZqirCwziGPjDv71wnTpHSScZZQsoZN3PDaqT9e60UBu7n7%2BhYh%2B%2BWULftNGk8EdR%2FMNoiH0GznDMwDLzomjA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=WTEsK5QQTxisflynelGTQ.gGOlMuvvFhPV2DKPjhNrE-1726544863-1.0.1.1-BXCynMxKoaL0iK7R6us_74k0mUFH7iiLIWWHt_tx6aPNgiexIeAvtcZrhTbcSplW6Jq33KHLKSjlOY.6Ma7bA7XIKNRpmwgDf3HWN3mXl30; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.ecs_service.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.blackjack.module.ecs_service.module.globals"}]},{"resources":[{"address":"module.blackjack.module.ecs_task_definition.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2905839260","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:TagResource\",\n        \"ecs:List*\",\n        \"ecs:Get*\",\n        \"ecs:Describe*\",\n        \"ecs:*TaskDefinition*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\n        \"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"iam:PassRole\",\n      \"Resource\": \"arn:aws:iam::752502408032:role/ecsTaskExecutionRole\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:Describe*\",\n        \"ecs:DeregisterTaskDefinition\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ecs:TagResource\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Effect\":\"Allow\",\"Action\":\"iam:PassRole\",\"Resource\":\"arn:aws:iam::752502408032:role/ecsTaskExecutionRole\"},{\"Effect\":\"Allow\",\"Action\":[\"ecs:Describe*\",\"ecs:DeregisterTaskDefinition\"],\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ecs:*TaskDefinition*","ecs:Describe*","ecs:Get*","ecs:List*","ecs:TagResource"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack","arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*"],"sid":""},{"actions":["iam:PassRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:iam::752502408032:role/ecsTaskExecutionRole"],"sid":""},{"actions":["ecs:DeregisterTaskDefinition","ecs:Describe*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]},{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}}],"address":"module.blackjack.module.ecs_task_definition","child_modules":[{"resources":[{"address":"module.blackjack.module.ecs_task_definition.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd86bcae213-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=IhKiyn61KJlFtJgax%2Bxp%2FXC2yc6osoPAMLjaJ2vnH8GTtLs90G5nXI6rvOaPZsFb%2BIuqaJwVIE%2FPCOlpVbIQXxdMeMvxqEHnb8e8S0LgTEhqqeA6Pp8KYTyUWo%2Bo7ZS9dadfow%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=CDetV8PWgfPlSdpSevwTLo20F7r6LnOn1BtBP1.NOqY-1726544864-1.0.1.1-78Y8Z4cr.puw5veGx1F0QMM0.0P6Kp56g__zuvuaceGA8xN.3Z6DhPRYFyHqQMp33wlzHOWkoIsJQGnuMpeGFQdmj7VKXZi7oNkYAglIjjQ; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.ecs_task_definition.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd8a966e1bf-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=ynw46qDJfpTit6jvPEp32nqwipMYj%2Bg66cExS9uY1zMbajBg8%2Fl2%2Fpp0zeQI6sgPuqfjEA1LhRX6exdNOlfrebiuOqUA8MfYbM2xmwBm46OViAUDbiLpfGXRckcQjEv1CC%2FzcQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=PmqdVl6X71hwhf3P0fKHPfxuOFjkaIMm7V_LzXRzZB4-1726544864-1.0.1.1-t8dtipz5jTRB9v491cQda5UE1FvRuSGgjNZRwtbo2PntfEM67zebfba1lF_uTBIn_dcrUn0FOn72jhCfDJeqPWGEw62Pv6lnH5YJKmhXg90; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.ecs_task_definition.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.blackjack.module.ecs_task_definition.module.globals"}]},{"resources":[{"address":"module.blackjack.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd85b8f1144-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=e79dkfsCLFcKVhdvtQ5JhQz%2FL6ZDaLBt4aQoqYaPupyONWNhvw%2FLmOYZDSXI4lmkubc0Xu520ay9ciAle3NOV8DYrFYt7%2F9aEZ7IDQq1sIDc5CxskJYitA8Syur9QWgTP2PL9g%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=aCienKsW19Dvo_Z3x1EiiaV_Yx9MvaqGixvf_RkDU8w-1726544864-1.0.1.1-PUQMF7vX8uxwCTWbg8VI1rvyOmycCIdhFOSPI70SKi1bkIGzVCzHHLPMwiWCaUUTMcte8eMiEqWyXk4fkdMPsfrIzyBoBoxBvVdmLaKXrc0; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd7dad46326-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=kfoEvfw4QfofZCgCU%2BVPyGspRZQhVc%2F73C03NayhLiohCoUne%2FyyQ09Ws9ZJdmtGqT0pVlI%2F6Wyuz4vQ%2BGdrCjT4qQfWJH2CFvLlJn3cHPtCGwqGlE1cSO3FYd3bmJPz0oO6RA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=N9SvbkVYjTS7ttLrpgPIbVbJzCoDHipvFk6ABPPGV3c-1726544864-1.0.1.1-nIrYqfBCNwxtYjlE51_kVzeFB7TCfDa89L2I4dkKmJpiuahtxdtj_50TwTrV3T3PestmJctK5Yik6JoBVNFAQ6UlWZcOQeVOdbQjFOREwc4; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.blackjack.module.globals"},{"resources":[{"address":"module.blackjack.module.iam_policy.data.terraform_remote_state.previous[0]","mode":"data","type":"terraform_remote_state","name":"previous","index":0,"provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"carlssonk-terraform-state-bucket-prod","key":"env:/prod/iam/terraform.tfstate","region":"eu-north-1"},"defaults":null,"outputs":{"blackjack_policy_document":"{\"Statement\":[{\"Action\":[\"ecr:List*\",\"ecr:Get*\",\"ecr:Describe*\",\"ecr:DeleteRepository\",\"ecr:CreateRepository\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack\",\"arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*\"]},{\"Action\":[\"ecs:TagResource\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:UpdateService\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteService\",\"ecs:CreateService\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*\",\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack\"]},{\"Action\":[\"ecs:Describe*\",\"ecs:DeregisterTaskDefinition\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:*Target*\",\"elasticloadbalancing:*Rule*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*\"]},{\"Action\":\"elasticloadbalancing:DescribeTargetGroups\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"iam:PassRole\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::752502408032:role/ecsTaskExecutionRole\"]}],\"Version\":\"2012-10-17\"}","common_policy_document":"{\"Statement\":[{\"Action\":\"acm:*Certificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":\"acm:RequestCertificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteTags\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateTags\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]},{\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:ModifyVpcEndpoint\",\"ec2:DeleteVpcEndpoints\",\"ec2:CreateVpcEndpoint\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:vpc/*\",\"arn:aws:ec2:*:*:vpc-endpoint/*\",\"arn:aws:ec2:*:*:subnet/*\",\"arn:aws:ec2:*:*:security-group/*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteCluster\",\"ecs:CreateCluster\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*\",\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":\"elasticloadbalancing:Describe*\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"elasticloadbalancing:DescribeLoadBalancers\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]}],\"Version\":\"2012-10-17\"}","portfolio_policy_document":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::www.carlssonk.com/*\",\"arn:aws:s3:::www.carlssonk.com\"]},{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*BucketWebsite\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::carlssonk.com/*\",\"arn:aws:s3:::carlssonk.com\"]}],\"Version\":\"2012-10-17\"}","terraform_diagram_policy_document":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::terraform.carlssonk.com/*\",\"arn:aws:s3:::terraform.carlssonk.com\"]}],\"Version\":\"2012-10-17\"}"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}},{"address":"module.blackjack.module.iam_policy.aws_iam_policy.policy[0]","mode":"managed","type":"aws_iam_policy","name":"policy","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::752502408032:policy/terraform-blackjack-policy","attachment_count":1,"description":"","id":"arn:aws:iam::752502408032:policy/terraform-blackjack-policy","name":"terraform-blackjack-policy","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ecr:List*\",\"ecr:Get*\",\"ecr:Describe*\",\"ecr:DeleteRepository\",\"ecr:CreateRepository\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack\",\"arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*\"]},{\"Action\":[\"ecs:TagResource\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:UpdateService\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteService\",\"ecs:CreateService\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*\",\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack\"]},{\"Action\":[\"ecs:Describe*\",\"ecs:DeregisterTaskDefinition\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:*Target*\",\"elasticloadbalancing:*Rule*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*\"]},{\"Action\":\"elasticloadbalancing:DescribeTargetGroups\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"iam:PassRole\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::752502408032:role/ecsTaskExecutionRole\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA26NFDQNQID3PVTLEQ","tags":{},"tags_all":{}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.blackjack.module.alb_target_group.data.aws_iam_policy_document.this","module.blackjack.module.alb_target_group.module.globals.data.http.cloudflare_ips_v4","module.blackjack.module.alb_target_group.module.globals.data.http.cloudflare_ips_v6","module.blackjack.module.alb_target_group.module.globals.data.local_file.globals","module.blackjack.module.ecs_service.data.aws_iam_policy_document.this","module.blackjack.module.ecs_service.module.globals.data.http.cloudflare_ips_v4","module.blackjack.module.ecs_service.module.globals.data.http.cloudflare_ips_v6","module.blackjack.module.ecs_service.module.globals.data.local_file.globals","module.blackjack.module.ecs_task_definition.data.aws_iam_policy_document.this","module.blackjack.module.ecs_task_definition.module.globals.data.http.cloudflare_ips_v4","module.blackjack.module.ecs_task_definition.module.globals.data.http.cloudflare_ips_v6","module.blackjack.module.ecs_task_definition.module.globals.data.local_file.globals","module.blackjack.module.iam_policy.data.terraform_remote_state.previous","module.blackjack.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","module.blackjack.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","module.blackjack.module.iam_policy.module.globals.data.local_file.globals"]},{"address":"module.blackjack.module.iam_policy.aws_iam_role_policy_attachment.attachment[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attachment","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"terraform-execution-role-20240916202908921100000002","policy_arn":"arn:aws:iam::752502408032:policy/terraform-blackjack-policy","role":"terraform-execution-role"},"sensitive_values":{},"depends_on":["module.blackjack.module.alb_target_group.data.aws_iam_policy_document.this","module.blackjack.module.alb_target_group.module.globals.data.http.cloudflare_ips_v4","module.blackjack.module.alb_target_group.module.globals.data.http.cloudflare_ips_v6","module.blackjack.module.alb_target_group.module.globals.data.local_file.globals","module.blackjack.module.ecs_service.data.aws_iam_policy_document.this","module.blackjack.module.ecs_service.module.globals.data.http.cloudflare_ips_v4","module.blackjack.module.ecs_service.module.globals.data.http.cloudflare_ips_v6","module.blackjack.module.ecs_service.module.globals.data.local_file.globals","module.blackjack.module.ecs_task_definition.data.aws_iam_policy_document.this","module.blackjack.module.ecs_task_definition.module.globals.data.http.cloudflare_ips_v4","module.blackjack.module.ecs_task_definition.module.globals.data.http.cloudflare_ips_v6","module.blackjack.module.ecs_task_definition.module.globals.data.local_file.globals","module.blackjack.module.iam_policy.aws_iam_policy.policy","module.blackjack.module.iam_policy.data.terraform_remote_state.previous","module.blackjack.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","module.blackjack.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","module.blackjack.module.iam_policy.module.globals.data.local_file.globals"]}],"address":"module.blackjack.module.iam_policy","child_modules":[{"resources":[{"address":"module.blackjack.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd8080c13cf-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=woXQjdbcS%2BUUIdr6t2kKnLrEegNszRMSHnVVDGAThQPYVYOsID4f1zN5rmerK3n%2FHSMnLHupYe3nqf72Z5RlwCNCdYlqkG2sv0psz82Ue9OpVVERdYOSvUMM2FAMcKaJBt6Org%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=MA0DYJ7AlKvynR2OJ8LlA3JSC4wwd8RrzJkpdCyI0Fs-1726544864-1.0.1.1-j3pCjGHHPnUa5rlzjlfNeznolm47EUJQyZubO3hGtol0lcuEqiFEMFcN_afpZY_BW7615cTlMLLAuAvfY9jJMy6FxJImAMdchh9mY.5Ox8c; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd86ef5233e-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=TY4Ns6iquOFSwdSvZqsedPz4IP0tbVE50wdYwZ%2FVQqp33J8Xf%2BmfwsawSkPXw1%2B%2FW8Ijk1wCnPBdgXbMVUtKhMXN%2BOQuWtmIiqFwcO7CZGtplScfcm%2BoVciThiJhlBdpk8ZhnA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=_Y.aQsNocck9TppmE4i2lMkySlkF3O3wMI6F7d_d9_A-1726544864-1.0.1.1-pRDLd46cFUqND.huQ.posjLVRQY7WQQMnINLPLRvMaT_FgU65M1sAyHGw40jXddkRMKcJu2Mryv3ZtW3cUxr_ffkq9qBjuSFv2nPqI8lBWk; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.blackjack.module.iam_policy.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.blackjack.module.iam_policy.module.globals"}]}]},{"resources":[{"address":"module.iam_policy.data.terraform_remote_state.previous[0]","mode":"data","type":"terraform_remote_state","name":"previous","index":0,"provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"carlssonk-terraform-state-bucket-prod","key":"env:/prod/iam/terraform.tfstate","region":"eu-north-1"},"defaults":null,"outputs":{"blackjack_policy_document":"{\"Statement\":[{\"Action\":[\"ecr:List*\",\"ecr:Get*\",\"ecr:Describe*\",\"ecr:DeleteRepository\",\"ecr:CreateRepository\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack\",\"arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*\"]},{\"Action\":[\"ecs:TagResource\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:UpdateService\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteService\",\"ecs:CreateService\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*\",\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack\"]},{\"Action\":[\"ecs:Describe*\",\"ecs:DeregisterTaskDefinition\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:*Target*\",\"elasticloadbalancing:*Rule*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*\"]},{\"Action\":\"elasticloadbalancing:DescribeTargetGroups\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"iam:PassRole\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::752502408032:role/ecsTaskExecutionRole\"]}],\"Version\":\"2012-10-17\"}","common_policy_document":"{\"Statement\":[{\"Action\":\"acm:*Certificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":\"acm:RequestCertificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteTags\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateTags\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]},{\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:ModifyVpcEndpoint\",\"ec2:DeleteVpcEndpoints\",\"ec2:CreateVpcEndpoint\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:vpc/*\",\"arn:aws:ec2:*:*:vpc-endpoint/*\",\"arn:aws:ec2:*:*:subnet/*\",\"arn:aws:ec2:*:*:security-group/*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteCluster\",\"ecs:CreateCluster\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*\",\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":\"elasticloadbalancing:Describe*\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"elasticloadbalancing:DescribeLoadBalancers\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]}],\"Version\":\"2012-10-17\"}","portfolio_policy_document":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::www.carlssonk.com/*\",\"arn:aws:s3:::www.carlssonk.com\"]},{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*BucketWebsite\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::carlssonk.com/*\",\"arn:aws:s3:::carlssonk.com\"]}],\"Version\":\"2012-10-17\"}","terraform_diagram_policy_document":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::terraform.carlssonk.com/*\",\"arn:aws:s3:::terraform.carlssonk.com\"]}],\"Version\":\"2012-10-17\"}"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}},{"address":"module.iam_policy.aws_iam_policy.policy[0]","mode":"managed","type":"aws_iam_policy","name":"policy","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::752502408032:policy/terraform-common-policy","attachment_count":1,"description":"","id":"arn:aws:iam::752502408032:policy/terraform-common-policy","name":"terraform-common-policy","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":\"acm:*Certificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":\"acm:RequestCertificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteTags\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateTags\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]},{\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:ModifyVpcEndpoint\",\"ec2:DeleteVpcEndpoints\",\"ec2:CreateVpcEndpoint\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:vpc/*\",\"arn:aws:ec2:*:*:vpc-endpoint/*\",\"arn:aws:ec2:*:*:subnet/*\",\"arn:aws:ec2:*:*:security-group/*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteCluster\",\"ecs:CreateCluster\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*\",\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":\"elasticloadbalancing:Describe*\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"elasticloadbalancing:DescribeLoadBalancers\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA26NFDQNQOZJ5OXJKS","tags":{},"tags_all":{}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.iam_policy.data.terraform_remote_state.previous","module.iam_policy.module.globals.data.http.cloudflare_ips_v4","module.iam_policy.module.globals.data.http.cloudflare_ips_v6","module.iam_policy.module.globals.data.local_file.globals","module.networking.module.main_vpc.data.aws_iam_policy_document.this","module.security.module.security_group_alb.data.aws_iam_policy_document.this","module.security.module.security_group_alb_rules.data.aws_iam_policy_document.this","module.security.module.security_group_ecs_tasks.data.aws_iam_policy_document.this","module.security.module.security_group_ecs_tasks_rules.data.aws_iam_policy_document.this","module.security.module.security_group_vpc_endpoints.data.aws_iam_policy_document.this","module.security.module.security_group_vpc_endpoints_rules.data.aws_iam_policy_document.this","module.security.module.vpc_endpoints_gateway.data.aws_iam_policy_document.this","module.services.module.main_alb.data.aws_iam_policy_document.this","module.services.module.main_alb.module.globals.data.http.cloudflare_ips_v4","module.services.module.main_alb.module.globals.data.http.cloudflare_ips_v6","module.services.module.main_alb.module.globals.data.local_file.globals","module.services.module.main_ecs_cluster.data.aws_iam_policy_document.this","module.services.module.main_ecs_cluster.module.globals.data.http.cloudflare_ips_v4","module.services.module.main_ecs_cluster.module.globals.data.http.cloudflare_ips_v6","module.services.module.main_ecs_cluster.module.globals.data.local_file.globals"]},{"address":"module.iam_policy.aws_iam_role_policy_attachment.attachment[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attachment","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"terraform-execution-role-20240916202908916700000001","policy_arn":"arn:aws:iam::752502408032:policy/terraform-common-policy","role":"terraform-execution-role"},"sensitive_values":{},"depends_on":["module.iam_policy.aws_iam_policy.policy","module.iam_policy.data.terraform_remote_state.previous","module.iam_policy.module.globals.data.http.cloudflare_ips_v4","module.iam_policy.module.globals.data.http.cloudflare_ips_v6","module.iam_policy.module.globals.data.local_file.globals","module.networking.module.main_vpc.data.aws_iam_policy_document.this","module.security.module.security_group_alb.data.aws_iam_policy_document.this","module.security.module.security_group_alb_rules.data.aws_iam_policy_document.this","module.security.module.security_group_ecs_tasks.data.aws_iam_policy_document.this","module.security.module.security_group_ecs_tasks_rules.data.aws_iam_policy_document.this","module.security.module.security_group_vpc_endpoints.data.aws_iam_policy_document.this","module.security.module.security_group_vpc_endpoints_rules.data.aws_iam_policy_document.this","module.security.module.vpc_endpoints_gateway.data.aws_iam_policy_document.this","module.services.module.main_alb.data.aws_iam_policy_document.this","module.services.module.main_alb.module.globals.data.http.cloudflare_ips_v4","module.services.module.main_alb.module.globals.data.http.cloudflare_ips_v6","module.services.module.main_alb.module.globals.data.local_file.globals","module.services.module.main_ecs_cluster.data.aws_iam_policy_document.this","module.services.module.main_ecs_cluster.module.globals.data.http.cloudflare_ips_v4","module.services.module.main_ecs_cluster.module.globals.data.http.cloudflare_ips_v6","module.services.module.main_ecs_cluster.module.globals.data.local_file.globals"]}],"address":"module.iam_policy","child_modules":[{"resources":[{"address":"module.iam_policy.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45087","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd79ffb61cc-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=RxWkyXdxQTBYe5UcnRQivICK2SRdYm%2B79jqr8gmb09w9an2C3yZR19lrgfWZoZ%2FhMWORB%2FOTk%2FzJRuMsx1PmNIIeBWbL0vNQH95v3EPxcvtxUma%2FT141%2FqrxD06QfJb89yU3Kg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=Ar5KfgPpNMmRh1JAPp8OhK7DgT2qjAhAW7jAQ7mf1qc-1726544863-1.0.1.1-gJTVG_qPTOrLjqS9LRCS4oOWiWhZY.Pz0KiB9wPCmMz7hGsdT1S8AC9iBOVfDty5DaQ0vR9x7jj8neCnACXupWRVIZ28fdUoTsCq5W9wnC4; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.iam_policy.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd81dba1060-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=VBdY7c73Sb77LHGMxCz8G9l9rTqy7r5b%2BcLsps7bsOtLnNZOBBanqFiSmlV5ATtUKilN12gi3gpuN7PugSVAYayvx5puKg%2BfOvewaoK16ppByLvPDm%2BApcXFaLOuhkC6L%2Bgx5A%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=kV7TcC5qCaOYCkmLCMzuLw0YvsRqA.85G7X_OvyPzC8-1726544864-1.0.1.1-zMNDx7KbN4Du5vKijv2TvSJwsixGDZrIVW5.jVMK9k2gE0jWSVdEuXJdLtvYvQhiXRcE8N.PDTIroh.7vxt9YplFVeWqdnXCfpEW3evKKRw; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.iam_policy.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.iam_policy.module.globals"}]},{"address":"module.networking","child_modules":[{"resources":[{"address":"module.networking.module.main_vpc.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2474994878","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:RevokeSecurityGroupIngress\",\n        \"ec2:RevokeSecurityGroupEgress\",\n        \"ec2:ModifyVpcAttribute\",\n        \"ec2:ModifySubnetAttribute\",\n        \"ec2:ModifySecurityGroupRules\",\n        \"ec2:DisassociateRouteTable\",\n        \"ec2:DetachInternetGateway\",\n        \"ec2:Describe*\",\n        \"ec2:DeleteVpcEndpoints\",\n        \"ec2:DeleteVpc\",\n        \"ec2:DeleteSubnet\",\n        \"ec2:DeleteSecurityGroup\",\n        \"ec2:DeleteRouteTable\",\n        \"ec2:DeleteRoute\",\n        \"ec2:DeleteInternetGateway\",\n        \"ec2:CreateVpcEndpoint\",\n        \"ec2:CreateVpc\",\n        \"ec2:CreateSubnet\",\n        \"ec2:CreateSecurityGroup\",\n        \"ec2:CreateRouteTable\",\n        \"ec2:CreateRoute\",\n        \"ec2:CreateInternetGateway\",\n        \"ec2:AuthorizeSecurityGroupIngress\",\n        \"ec2:AuthorizeSecurityGroupEgress\",\n        \"ec2:AttachInternetGateway\",\n        \"ec2:AssociateRouteTable\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:AssociateRouteTable","ec2:AttachInternetGateway","ec2:AuthorizeSecurityGroupEgress","ec2:AuthorizeSecurityGroupIngress","ec2:CreateInternetGateway","ec2:CreateRoute","ec2:CreateRouteTable","ec2:CreateSecurityGroup","ec2:CreateSubnet","ec2:CreateVpc","ec2:CreateVpcEndpoint","ec2:DeleteInternetGateway","ec2:DeleteRoute","ec2:DeleteRouteTable","ec2:DeleteSecurityGroup","ec2:DeleteSubnet","ec2:DeleteVpc","ec2:DeleteVpcEndpoints","ec2:Describe*","ec2:DetachInternetGateway","ec2:DisassociateRouteTable","ec2:ModifySecurityGroupRules","ec2:ModifySubnetAttribute","ec2:ModifyVpcAttribute","ec2:RevokeSecurityGroupEgress","ec2:RevokeSecurityGroupIngress"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}}],"address":"module.networking.module.main_vpc"}]},{"address":"module.portfolio","child_modules":[{"resources":[{"address":"module.portfolio.module.apex_bucket.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3128211467","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:List*\",\n        \"s3:Get*\",\n        \"s3:DeleteBucket\",\n        \"s3:CreateBucket\",\n        \"s3:*BucketWebsite\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::carlssonk.com/*\",\n        \"arn:aws:s3:::carlssonk.com\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*BucketWebsite\"],\"Resource\":[\"arn:aws:s3:::carlssonk.com/*\",\"arn:aws:s3:::carlssonk.com\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:*BucketWebsite","s3:CreateBucket","s3:DeleteBucket","s3:Get*","s3:List*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:s3:::carlssonk.com","arn:aws:s3:::carlssonk.com/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.portfolio.module.apex_bucket"},{"resources":[{"address":"module.portfolio.module.iam_policy.data.terraform_remote_state.previous[0]","mode":"data","type":"terraform_remote_state","name":"previous","index":0,"provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"carlssonk-terraform-state-bucket-prod","key":"env:/prod/iam/terraform.tfstate","region":"eu-north-1"},"defaults":null,"outputs":{"blackjack_policy_document":"{\"Statement\":[{\"Action\":[\"ecr:List*\",\"ecr:Get*\",\"ecr:Describe*\",\"ecr:DeleteRepository\",\"ecr:CreateRepository\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack\",\"arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*\"]},{\"Action\":[\"ecs:TagResource\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:UpdateService\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteService\",\"ecs:CreateService\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*\",\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack\"]},{\"Action\":[\"ecs:Describe*\",\"ecs:DeregisterTaskDefinition\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:*Target*\",\"elasticloadbalancing:*Rule*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*\"]},{\"Action\":\"elasticloadbalancing:DescribeTargetGroups\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"iam:PassRole\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::752502408032:role/ecsTaskExecutionRole\"]}],\"Version\":\"2012-10-17\"}","common_policy_document":"{\"Statement\":[{\"Action\":\"acm:*Certificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":\"acm:RequestCertificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteTags\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateTags\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]},{\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:ModifyVpcEndpoint\",\"ec2:DeleteVpcEndpoints\",\"ec2:CreateVpcEndpoint\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:vpc/*\",\"arn:aws:ec2:*:*:vpc-endpoint/*\",\"arn:aws:ec2:*:*:subnet/*\",\"arn:aws:ec2:*:*:security-group/*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteCluster\",\"ecs:CreateCluster\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*\",\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":\"elasticloadbalancing:Describe*\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"elasticloadbalancing:DescribeLoadBalancers\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]}],\"Version\":\"2012-10-17\"}","portfolio_policy_document":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::www.carlssonk.com/*\",\"arn:aws:s3:::www.carlssonk.com\"]},{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*BucketWebsite\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::carlssonk.com/*\",\"arn:aws:s3:::carlssonk.com\"]}],\"Version\":\"2012-10-17\"}","terraform_diagram_policy_document":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::terraform.carlssonk.com/*\",\"arn:aws:s3:::terraform.carlssonk.com\"]}],\"Version\":\"2012-10-17\"}"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}},{"address":"module.portfolio.module.iam_policy.aws_iam_policy.policy[0]","mode":"managed","type":"aws_iam_policy","name":"policy","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::752502408032:policy/terraform-portfolio-policy","attachment_count":1,"description":"","id":"arn:aws:iam::752502408032:policy/terraform-portfolio-policy","name":"terraform-portfolio-policy","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::www.carlssonk.com/*\",\"arn:aws:s3:::www.carlssonk.com\"]},{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*BucketWebsite\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::carlssonk.com/*\",\"arn:aws:s3:::carlssonk.com\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA26NFDQNQDRKXVRCXR","tags":{},"tags_all":{}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.portfolio.module.apex_bucket.data.aws_iam_policy_document.this","module.portfolio.module.iam_policy.data.terraform_remote_state.previous","module.portfolio.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","module.portfolio.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","module.portfolio.module.iam_policy.module.globals.data.local_file.globals","module.portfolio.module.www_bucket.data.aws_iam_policy_document.this"]},{"address":"module.portfolio.module.iam_policy.aws_iam_role_policy_attachment.attachment[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attachment","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"terraform-execution-role-20240916202908948400000003","policy_arn":"arn:aws:iam::752502408032:policy/terraform-portfolio-policy","role":"terraform-execution-role"},"sensitive_values":{},"depends_on":["module.portfolio.module.apex_bucket.data.aws_iam_policy_document.this","module.portfolio.module.iam_policy.aws_iam_policy.policy","module.portfolio.module.iam_policy.data.terraform_remote_state.previous","module.portfolio.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","module.portfolio.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","module.portfolio.module.iam_policy.module.globals.data.local_file.globals","module.portfolio.module.www_bucket.data.aws_iam_policy_document.this"]}],"address":"module.portfolio.module.iam_policy","child_modules":[{"resources":[{"address":"module.portfolio.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd86aed10bf-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=ohtOnHtGLhdnZOdCw93vJzXGiWvGSXsqpK8XmbH4VIp5CF6VmIlIn52IaegeQ4UsJulZpmOm9JAjQquTriIb9wl3NGF8VsR9PsPxGaqxCuvMCvGHXDFvVEhUP02IxY03mMPcFQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=LnUyECU.ZK4yDpmqCWo8DPoCuk58Cb8Xtoq9lzNpRoI-1726544864-1.0.1.1-RsHxdCYH2JuxTDImPJAB.aW.mIQ2PT2hTotaexWeSgm2VywHQyGTGpck_BPC.UR224gbsQrTmgJg4cGXTG3g8v1gHb3UrIBAkVIgyvO1C58; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.portfolio.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37869","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd7ac689121-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=gkFmg6aMBnyKhdxufKZK2PhxejkEQ3PCeNQm0JIob3WvFZbbnUhw2sDC%2FzPPJb1HOXSyPFYoEPorIWFC6HG%2BnCguGnIvSbMcgn5KxXM%2FEF06r9Ki5mX%2Bgcr1Y6moCjMBZ97bEg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=I7xsAZJj7vNuuICzQ9HIh_JDKBU.8JOJrEQUu0Muy2k-1726544863-1.0.1.1-7DiSsS78Nhdd1ThG5BZXGe8Cy0llUIlE.d6Ri2WwPC55ouA.iZI6CGO.hJg34yrtLR_e46SDQ0S2xMYrBOjmkuaIrFEStlpByTTwKnRSyRs; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.portfolio.module.iam_policy.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.portfolio.module.iam_policy.module.globals"}]},{"resources":[{"address":"module.portfolio.module.www_bucket.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1873407487","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:List*\",\n        \"s3:Get*\",\n        \"s3:DeleteBucket\",\n        \"s3:CreateBucket\",\n        \"s3:*PublicAccessBlock\",\n        \"s3:*BucketWebsite\",\n        \"s3:*BucketPolicy\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::www.carlssonk.com/*\",\n        \"arn:aws:s3:::www.carlssonk.com\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Resource\":[\"arn:aws:s3:::www.carlssonk.com/*\",\"arn:aws:s3:::www.carlssonk.com\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:*BucketPolicy","s3:*BucketWebsite","s3:*PublicAccessBlock","s3:CreateBucket","s3:DeleteBucket","s3:Get*","s3:List*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:s3:::www.carlssonk.com","arn:aws:s3:::www.carlssonk.com/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.portfolio.module.www_bucket"}]},{"address":"module.security","child_modules":[{"resources":[{"address":"module.security.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd80d4510ed-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=RsqSr3H25bDRZObBNNmTKxOdZyxSQnF0uxVw20Qr2OHyAngnN2L%2BYPXz4UqqSN6UJW8J8%2FWBjJvKmefNhFtiMatUC3d2fJbj%2B1fnM6Bj%2F7jr%2BufPt8eYl%2FvV%2BFckTGSjWSMjoA%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=77d1OSVvH9fkItRjTygXi6Uc47v_wzl1o4A1DaOWnjk-1726544864-1.0.1.1-Y50wyZMUmuw53YboNXD6EmAaElUoLWtTjpyyKPg3XtOu0EDsI5Ys7aYO3qZBJ4hEc0R3FgtMoMK9D7rxB.ieO1X_hs6z.mGjp4qJITMY5no; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd85dac2bd8-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=7mb1A8SEfFEHCFj2I%2FlvizBGxYRYk30cF6rYhms6994G%2F9RfDCKroepeSxD8X0JXvclcOCm6HUutT%2BOoo5juZkeBcqoCQ7AKj%2BuS8hYcuMqPWpFnNlBsfQxMsXGJrGspSwicVQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=UP1fFWzq5q1g37Eo7KFCaorV7SyFLl_FlUqunROwQaU-1726544864-1.0.1.1-75ypBV7JDxMXSYWcvTBThlaaz4lfmqhKVkIR9R00eL10D_D9YHI2mnz3W8irzL6HkCQX9PoVuN0Ve_WOiTF4MZkiP7BBCold_XkzXc.IyDM; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.security.module.globals"},{"resources":[{"address":"module.security.module.security_group_alb.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1471044463","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"ec2:DeleteSecurityGroup\",\n        \"ec2:CreateSecurityGroup\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:CreateSecurityGroup","ec2:DeleteSecurityGroup","ec2:Describe*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}}],"address":"module.security.module.security_group_alb","child_modules":[{"resources":[{"address":"module.security.module.security_group_alb.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd869c4616f-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=ZjuwvcitiLcFQtxSduaTONt%2FyDJU0IL72cvYkS4m4m%2Fp2D9kyiTtDcBjIsFdxGajTNdLaU5BzZebIAG%2ByCOOKV8BKWpGZkkNPJ8%2B7OHpURq0C0XY4zB2rufTlsFlvfHR5QimeQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=MFneL6dcVNu2PkKrZZ2b0_FQ5BhrWPMkw4KC2oOmCsk-1726544864-1.0.1.1-JKXmJuf.XWOLbvnCKNxhLwO.l8izL4Q86IRgX6VDhy2vJ0WWcWt5V6IrrS.NoeKpoHUjgpxNfkN4.EItxDfOnyZulclNe831CAZbNJIdXMQ; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_alb.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37869","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd799e1507a-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=glh1fX7xaf%2Fg%2BUon1%2BhH9pBSWM%2FGylu1v3dPn5b2X%2F96w1%2FHwiHHBi7ZtYUS7LTRJQ4uGqv%2FVwHngo1r3r9Ba%2B3rYQcRaqVM8JITEb9Pz0dvMCY5PbVzG32U8CYlN2uvwby0Gw%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=e.7pLNpmmiuMaau9bGGADm4U.q6VrmfN76b8OBVduhc-1726544863-1.0.1.1-kScNHPGPGmxhxsVn3v9MreVHbZxzRNIs4tLnYZPpxvsGZC1r5Zpd.JpVdzJK0C_sGAzSjK.VSboYr3i_3JzRTwqLWdUadmljzZVsmbI1s5I; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_alb.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.security.module.security_group_alb.module.globals"}]},{"resources":[{"address":"module.security.module.security_group_alb_rules.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2532835395","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribeSecurityGroupRules\",\n        \"ec2:DescribePrefixLists\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\n        \"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\n        \"ec2:RevokeSecurityGroupIngress\",\n        \"ec2:RevokeSecurityGroupEgress\",\n        \"ec2:ModifySecurityGroupRules\",\n        \"ec2:DeleteSecurityGroupRules\",\n        \"ec2:CreateSecurityGroupIngress\",\n        \"ec2:CreateSecurityGroupEgress\",\n        \"ec2:AuthorizeSecurityGroupIngress\",\n        \"ec2:AuthorizeSecurityGroupEgress\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:security-group/*\",\n        \"arn:aws:ec2:*:*:security-group-rule/*\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:DescribePrefixLists","ec2:DescribeSecurityGroupRules","ec2:DescribeSecurityGroups","ec2:DescribeVpcs"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:AuthorizeSecurityGroupEgress","ec2:AuthorizeSecurityGroupIngress","ec2:CreateSecurityGroupEgress","ec2:CreateSecurityGroupIngress","ec2:DeleteSecurityGroupRules","ec2:ModifySecurityGroupRules","ec2:RevokeSecurityGroupEgress","ec2:RevokeSecurityGroupIngress","ec2:UpdateSecurityGroupRuleDescriptionsEgress","ec2:UpdateSecurityGroupRuleDescriptionsIngress"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ec2:*:*:security-group-rule/*","arn:aws:ec2:*:*:security-group/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false,false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.security.module.security_group_alb_rules","child_modules":[{"resources":[{"address":"module.security.module.security_group_alb_rules.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd80b6d5074-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=4AecO%2FABBf916k3dsI%2BGkDVIakOhaNu%2Fv0Xx9j8OuKBc7%2F9ZJl05%2FXGXJhiEgsFhWXJosjMPXRnS7I%2FZ2Hvtg4YsSjLaQPEEvwHPfdf6i162NO2R%2FPeKPKOQSQ%2FOk4wW6FPKUw%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=MSzRbyRy24A71eF9HvT48Aljv.G2h.TkkeWyGqxIDLc-1726544864-1.0.1.1-iTIJYbBNnk2auLhSNLPxgbOfeu180M2G8lyPYnPX5aaBMEZKnxVfavaiN0r9oEQ__hQZi3f_DNW44xKmwSroPbL2o2VLTVctEWNg0wfjKFg; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_alb_rules.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd87a1a2be7-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=esD0Dmw%2FZ7NauZXpCW3o0RnyXPx%2FcLuMGCN9xJf7K1zaN%2FQeWNxd2BI3QoWkWeeopJATkgrtc5OBFeOvfQ8pxxa3cLJa0ZFSibw%2BhHic5mbSATidgMjxbgaip66pb%2FB5J%2Feh%2Bw%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=Di3FeMkmcFFnXfTKNKm19FS.RaiLvhVL_bYB3f16wEA-1726544864-1.0.1.1-Y4s9TWxDtjPqbZOgL7dnxAATHAOP4zOXMwOg10ymi6ttTvv5OWgCXgMNZYYbMxbed7gjUCa7nrmF9CIdaTnUWUL69MgUui4ysdXleXI4VCo; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_alb_rules.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.security.module.security_group_alb_rules.module.globals"}]},{"resources":[{"address":"module.security.module.security_group_ecs_tasks.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1471044463","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"ec2:DeleteSecurityGroup\",\n        \"ec2:CreateSecurityGroup\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:CreateSecurityGroup","ec2:DeleteSecurityGroup","ec2:Describe*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}}],"address":"module.security.module.security_group_ecs_tasks","child_modules":[{"resources":[{"address":"module.security.module.security_group_ecs_tasks.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45087","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd79edb022c-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=729n9RiRPZHyZ%2BrhGzCXLT1AX99f28ZO%2By9WMbRnIgprOiYczuUWIbRwnO8WvICi33RT3po1%2BxzDoDceHGqysxiYSXygX3pPMwGoTJmwDfk0T3sLXZnSVOvKoZqCGXhbnrySIQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=hpY9K3EmO4E537AJjlT_JiJ6w0tPgy1lJENQlOe5Njo-1726544863-1.0.1.1-_Cvo0KrxjvvMG.X99n0OsYthLHwVPep9hGP_WUAOPFzsa_zv4fjd._09a3b91rVpt4Oy0jqtCIDY0pg3T3xvlB5JvgaoSl.gXsjBlTtMzAc; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_ecs_tasks.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd86a658137-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=Z14vqUJsfeRnW0muYMafwPstrMK01D1nWRtBQOertT0HWU3SEX0yAuotVSf18uEwfimkfuKtBnCVmL2RzqDa5Cww2m8LWrG31GSCgS2zwCTerZHPdQFZBcABPJoJ8R2lhiFwIg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=DFuRsPO85uA5K.FLaGjIL_uJhjCwFUjHLHEucwi5Rdk-1726544864-1.0.1.1-7elyLVd7d4dcc6_B774JCr9B.FtdFfql1Y6aD9OkTBIkLNLJGpLwwSxIKpfwbqCNv4PbRJQkZUcupM_5JKT9.hPThg1ST6wdbUWgDs.Cycs; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_ecs_tasks.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.security.module.security_group_ecs_tasks.module.globals"}]},{"resources":[{"address":"module.security.module.security_group_ecs_tasks_rules.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2532835395","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribeSecurityGroupRules\",\n        \"ec2:DescribePrefixLists\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\n        \"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\n        \"ec2:RevokeSecurityGroupIngress\",\n        \"ec2:RevokeSecurityGroupEgress\",\n        \"ec2:ModifySecurityGroupRules\",\n        \"ec2:DeleteSecurityGroupRules\",\n        \"ec2:CreateSecurityGroupIngress\",\n        \"ec2:CreateSecurityGroupEgress\",\n        \"ec2:AuthorizeSecurityGroupIngress\",\n        \"ec2:AuthorizeSecurityGroupEgress\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:security-group/*\",\n        \"arn:aws:ec2:*:*:security-group-rule/*\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:DescribePrefixLists","ec2:DescribeSecurityGroupRules","ec2:DescribeSecurityGroups","ec2:DescribeVpcs"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:AuthorizeSecurityGroupEgress","ec2:AuthorizeSecurityGroupIngress","ec2:CreateSecurityGroupEgress","ec2:CreateSecurityGroupIngress","ec2:DeleteSecurityGroupRules","ec2:ModifySecurityGroupRules","ec2:RevokeSecurityGroupEgress","ec2:RevokeSecurityGroupIngress","ec2:UpdateSecurityGroupRuleDescriptionsEgress","ec2:UpdateSecurityGroupRuleDescriptionsIngress"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ec2:*:*:security-group-rule/*","arn:aws:ec2:*:*:security-group/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false,false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.security.module.security_group_ecs_tasks_rules","child_modules":[{"resources":[{"address":"module.security.module.security_group_ecs_tasks_rules.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45087","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd7abc12268-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=tPfNxhYWF%2FnSIqmnXDr6JUd0JlWBHJDaqMNXpNgdg9Ofdn%2BmOO0ZJ50uzdPSudQT8qWKEFCeTIJbePSpL9CM1Xz5hSxMvg4DP4odR8VP33Lt4%2FzjRpccINUVVWMsV5DRwAXdPQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=ViJUt_hGpSIpZginj1CXueU4qYfuTr5Ma3b0jGnMHW4-1726544863-1.0.1.1-z6cWGFuIXbSfIN9Jm2zxNG6JVgr.IvUsmeVrncpUlW3SG33vL_SVOnAfthYSAdqcAyFks0dXdsZU4PJoiGv0ZzDrqQ0yuj45BPlzClO089Y; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_ecs_tasks_rules.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd8bba002ac-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=F0%2FQPQpI3vtPL0A2n2k%2Fn9m77t%2Fd3yyPibn420Ot5smXcFi%2BUv45k4taMEo4C%2BK04i0vqYTUVyKvYNMDFYwHXlZVsQcCAqiFknrUuclJOQ5cTVU9cbiBTWRH4PHYnUE%2BbV8zKg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=LxzLOIky.Q2u1fL2lKtpgWD_izcAqMCOyCtua7m_NO0-1726544864-1.0.1.1-8dPzFS56XHR9c9MaQva3lpINoQaczHzau_gtKbGBKZFfhXJgIr2RbFmAHtfnYLbuB9aslpfE9_d0CkOF_Flwo2fivQN31rqnLX_z9SYmPAU; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_ecs_tasks_rules.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.security.module.security_group_ecs_tasks_rules.module.globals"}]},{"resources":[{"address":"module.security.module.security_group_vpc_endpoints.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1471044463","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"ec2:DeleteSecurityGroup\",\n        \"ec2:CreateSecurityGroup\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:CreateSecurityGroup","ec2:DeleteSecurityGroup","ec2:Describe*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}}],"address":"module.security.module.security_group_vpc_endpoints","child_modules":[{"resources":[{"address":"module.security.module.security_group_vpc_endpoints.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd80e66112d-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=cA8FaMzz6LkkWKL9oVltLRZ1lLOgVS0bH4ShbRY8A6%2FnWYkY79uO0nZCYbfkDl1WHNx8C9ikAQY22BgFNkrkc2pOh2R5BakOIM9HHmUiulbBPUu7zbkAKIeHimQQQPOvKumXWQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=HtKS1QbndOaJbSNGQzA89ZaiK5L4UkWib9j7m59RJSw-1726544864-1.0.1.1-LU4v3HLT5UakJepAnb8B9cna5GUCat8pMcaqY4ZiSsqKlejZEncu.URMtTqf6p0KU9H3c1UgWnfwANP7XOtEsXKVzEk.PCFfCMVlz0lPodY; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_vpc_endpoints.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37869","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd79d23dadf-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=yk7%2FTdMIIOnslmMAePkCj8YVD4NUvcN3nUf6%2BOtJcpM8NeCQE3XS7Gm1PYKSVohXi%2BqCTf5bPUgh%2Fxz2LPFQFr4VfEwfRBYMg6sNct8fka0FhIBx8%2BeULX%2FjJghLmTg1t0qqPg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=5xcqS_7uzsUqJqnuL8kaBIzkyI0zqkZzcxjBySySo.c-1726544863-1.0.1.1-ykiCUlhK0mGrYdnrGrPPcREyOZwMCSgWfH9z9LtjudfAa1_mMbIK.d79P0ZWoHajjplBXwlVpYeMORC8TjctmvTH_oKcFVJJ1imIJlTIi80; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_vpc_endpoints.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.security.module.security_group_vpc_endpoints.module.globals"}]},{"resources":[{"address":"module.security.module.security_group_vpc_endpoints_rules.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2532835395","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribeSecurityGroupRules\",\n        \"ec2:DescribePrefixLists\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\n        \"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\n        \"ec2:RevokeSecurityGroupIngress\",\n        \"ec2:RevokeSecurityGroupEgress\",\n        \"ec2:ModifySecurityGroupRules\",\n        \"ec2:DeleteSecurityGroupRules\",\n        \"ec2:CreateSecurityGroupIngress\",\n        \"ec2:CreateSecurityGroupEgress\",\n        \"ec2:AuthorizeSecurityGroupIngress\",\n        \"ec2:AuthorizeSecurityGroupEgress\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:security-group/*\",\n        \"arn:aws:ec2:*:*:security-group-rule/*\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:DescribePrefixLists","ec2:DescribeSecurityGroupRules","ec2:DescribeSecurityGroups","ec2:DescribeVpcs"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:AuthorizeSecurityGroupEgress","ec2:AuthorizeSecurityGroupIngress","ec2:CreateSecurityGroupEgress","ec2:CreateSecurityGroupIngress","ec2:DeleteSecurityGroupRules","ec2:ModifySecurityGroupRules","ec2:RevokeSecurityGroupEgress","ec2:RevokeSecurityGroupIngress","ec2:UpdateSecurityGroupRuleDescriptionsEgress","ec2:UpdateSecurityGroupRuleDescriptionsIngress"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ec2:*:*:security-group-rule/*","arn:aws:ec2:*:*:security-group/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false,false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.security.module.security_group_vpc_endpoints_rules","child_modules":[{"resources":[{"address":"module.security.module.security_group_vpc_endpoints_rules.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45087","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd798aa2ab1-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=an48JiHDcrSi6FSXYENjBrqCY7g2mZELa4EjHrzrO3PHrIItm%2FSJSbd6rGnwRIr9o6de1kaIkJ%2FmDh1PuAW%2B%2BD%2Fa3uUXH%2Bv0P7Btxxqta0Fnb57LoG87m3kBQ%2BrVCXwdkqs3Vg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=8da6V.WjUe46g3T_.w2zYuXC_aG9e9SIMoE3n07w4qU-1726544863-1.0.1.1-CIZTjF8V8UrgxMhpJjUePOxLdHcU0nMs8jmFlCySjf5lGhpN4Glha2PzhOGxu8J3RZAhu4V0lLMzvjZX6CuqJmK1wfe9bNyIUUbE7r4y8_I; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_vpc_endpoints_rules.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37869","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd79de4e26a-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:43 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=GK01gluTpmOcz%2BUH0WEzOYY64BJ8XSqv7xLtUjzr9YeFkYT6IrmilSR2u%2FtjurI9GILunObT0aZ5sEo%2FIfidJuWyA90bucmYFUdyowX2NWy4kiKvVD%2FhuQxzpgeamxN3DCoaCw%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=tRkkerfJiAfk7To7MEQqYlvDrGWKbEU.dInpBRFUbng-1726544863-1.0.1.1-E3Gdi9KuukIge_sYzvHbbi1C9HLCfzQHlwqIaV8ByWMOSmvfUe.djoLtF9KsB4KmSce21Hc6izhgupzsq.Fnsg3HKYSS4Hx1vDWesNI2S.E; path=/; expires=Tue, 17-Sep-24 04:17:43 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.security.module.security_group_vpc_endpoints_rules.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.security.module.security_group_vpc_endpoints_rules.module.globals"}]},{"resources":[{"address":"module.security.module.vpc_endpoints_gateway.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"109103837","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeVpcEndpoints\",\n        \"ec2:DescribeSubnets\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribePrefixLists\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:ModifyVpcEndpoint\",\n        \"ec2:DeleteVpcEndpoints\",\n        \"ec2:CreateVpcEndpoint\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:vpc/*\",\n        \"arn:aws:ec2:*:*:vpc-endpoint/*\",\n        \"arn:aws:ec2:*:*:subnet/*\",\n        \"arn:aws:ec2:*:*:security-group/*\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":[\"ec2:ModifyVpcEndpoint\",\"ec2:DeleteVpcEndpoints\",\"ec2:CreateVpcEndpoint\"],\"Resource\":[\"arn:aws:ec2:*:*:vpc/*\",\"arn:aws:ec2:*:*:vpc-endpoint/*\",\"arn:aws:ec2:*:*:subnet/*\",\"arn:aws:ec2:*:*:security-group/*\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:DescribePrefixLists","ec2:DescribeSecurityGroups","ec2:DescribeSubnets","ec2:DescribeVpcEndpoints","ec2:DescribeVpcs"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:CreateVpcEndpoint","ec2:DeleteVpcEndpoints","ec2:ModifyVpcEndpoint"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ec2:*:*:security-group/*","arn:aws:ec2:*:*:subnet/*","arn:aws:ec2:*:*:vpc-endpoint/*","arn:aws:ec2:*:*:vpc/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false,false,false]}]}}],"address":"module.security.module.vpc_endpoints_gateway"}]},{"address":"module.services","child_modules":[{"resources":[{"address":"module.services.module.main_alb.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3932235146","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:Describe*\",\n        \"elasticloadbalancing:CreateRule\",\n        \"elasticloadbalancing:*LoadBalancer*\",\n        \"elasticloadbalancing:*Listener*\",\n        \"elasticloadbalancing:*Certificates*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\n        \"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"acm:*Certificate\",\n      \"Resource\": \"arn:aws:acm:eu-north-1:752502408032:certificate/*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"elasticloadbalancing:Describe*\",\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Effect\":\"Allow\",\"Action\":\"acm:*Certificate\",\"Resource\":\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"},{\"Effect\":\"Allow\",\"Action\":\"elasticloadbalancing:Describe*\",\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["elasticloadbalancing:*Certificates*","elasticloadbalancing:*Listener*","elasticloadbalancing:*LoadBalancer*","elasticloadbalancing:CreateRule","elasticloadbalancing:Describe*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*","arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*"],"sid":""},{"actions":["acm:*Certificate"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:acm:eu-north-1:752502408032:certificate/*"],"sid":""},{"actions":["elasticloadbalancing:Describe*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]},{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}}],"address":"module.services.module.main_alb","child_modules":[{"resources":[{"address":"module.services.module.main_alb.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd8bc8a6166-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=GGSY7pFtqACl8mt7VanbLJL9YaJbbB30d0IrIj8zZb7E9Riagdbq87NnrSlnygElOgS5XvXhxJknhP0Y9bVfJDSlGuceHkHCReMrsF0dYomC3Ejou2BD6S8XPccAhvpMcUQbBg%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=l2BKtdJaYiz27fFlcpRgrQK_yuHdvRt5S1KMYbf6L0s-1726544864-1.0.1.1-h0hJnjS6Nk.zWRuL7OdkjzzdJXD.q4nur0T2u9lnQ9Ef57HBA3.4RdDFtHZ084Z2NlYDqM8f.nq2rjFEMrX90f7GLl8LUB2aeKZsf4t5hyQ; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.services.module.main_alb.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd86faadade-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=TV70LLPCyWRQWipgjaUoxZPQ%2FDSdz1nNfhcOQyHHbBbzDeSUBXQth8X4zoqoFxMfBwkJPzfX1C37SiqshJTFMLQ%2BOTKd2gZU1ItuL6wrtj3Hg3ZoACeQYrhsljHirIynJYDj0Q%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=SCTSqLn9Z2e0IZG2.dNM7H.yAY58r8sDcErc7iEG3VE-1726544864-1.0.1.1-6iEc2XsFIwwygJFchiEpUaDG9oVUeDk26XwqXQbstyWjNyaRuJaA.1sP.UaAq9V4aafdYjJK3cxvD7eiQaUsa.08rs7dyrzlPziwuPJkxUI; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.services.module.main_alb.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.services.module.main_alb.module.globals"}]},{"resources":[{"address":"module.services.module.main_ecs_cluster.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1474249846","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:List*\",\n        \"ecs:Get*\",\n        \"ecs:Describe*\",\n        \"ecs:DeleteCluster\",\n        \"ecs:CreateCluster\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*\",\n        \"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteCluster\",\"ecs:CreateCluster\"],\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*\",\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ecs:CreateCluster","ecs:DeleteCluster","ecs:Describe*","ecs:Get*","ecs:List*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster","arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.services.module.main_ecs_cluster","child_modules":[{"resources":[{"address":"module.services.module.main_ecs_cluster.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd8bd6f873b-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=A5pUIyZp4x%2BFRqbXQPTL7WeMsllW%2B1QiJ%2FUkUT45dlXr2nzCn1hLB%2Bz%2FuJj27WklZpUox6pMwNm1sjoSY6cXJfpND6Nz6tdfF05uAfBSxMdNL%2FtZvHj%2BeDZMSQ5CSPkuaVO44g%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=bIBBJ5Jtr1KgLR7s_Sbynb.7tyTS2fdEAGe7o7LYscg-1726544864-1.0.1.1-Ectt5YjoA7tnVZVn1YcSOuWA70db7jg23jmleJ49GUIJ1n5naa9QEeZAqaPwVQoAZjCK7N9G3SgWD93smF6_AKSh7IQnOCfTpRPNkbGSn4M; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.services.module.main_ecs_cluster.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd8cb2c8f45-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=F5VgFZt%2FcJnft%2Fb4kFrWM1hZGLUKZ1bKI8NEb2G7DGnzNrbMYGVmEzqjTfCrcwvF8vmVsK%2FR8K5llhG933TOxyoGArROw4YbdO56Tl5meD8avrGKyNuQoIEFVedmHNtbqVEXMQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=1c_8iRdS3HweFP5bqz9m7XOFnOcDZlGa8Q_U3EsbU0s-1726544864-1.0.1.1-eOr7LlWJAhVDTQq68RQtQ8WhUufew0Ka1mborlI3DwmxyogqodD_3bt4xL3jaExgqNJUEFOXg5slCtAT.LEsg4Fvkdr6rbDEVrc3x1dKNXY; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.services.module.main_ecs_cluster.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.services.module.main_ecs_cluster.module.globals"}]}]},{"address":"module.terraform_diagram","child_modules":[{"resources":[{"address":"module.terraform_diagram.module.bucket.data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"641861436","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:List*\",\n        \"s3:Get*\",\n        \"s3:DeleteBucket\",\n        \"s3:CreateBucket\",\n        \"s3:*PublicAccessBlock\",\n        \"s3:*BucketWebsite\",\n        \"s3:*BucketPolicy\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::terraform.carlssonk.com/*\",\n        \"arn:aws:s3:::terraform.carlssonk.com\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Resource\":[\"arn:aws:s3:::terraform.carlssonk.com/*\",\"arn:aws:s3:::terraform.carlssonk.com\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:*BucketPolicy","s3:*BucketWebsite","s3:*PublicAccessBlock","s3:CreateBucket","s3:DeleteBucket","s3:Get*","s3:List*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:s3:::terraform.carlssonk.com","arn:aws:s3:::terraform.carlssonk.com/*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]}]}}],"address":"module.terraform_diagram.module.bucket"},{"resources":[{"address":"module.terraform_diagram.module.iam_policy.data.terraform_remote_state.previous[0]","mode":"data","type":"terraform_remote_state","name":"previous","index":0,"provider_name":"terraform.io/builtin/terraform","schema_version":0,"values":{"backend":"s3","config":{"bucket":"carlssonk-terraform-state-bucket-prod","key":"env:/prod/iam/terraform.tfstate","region":"eu-north-1"},"defaults":null,"outputs":{"blackjack_policy_document":"{\"Statement\":[{\"Action\":[\"ecr:List*\",\"ecr:Get*\",\"ecr:Describe*\",\"ecr:DeleteRepository\",\"ecr:CreateRepository\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecr:eu-north-1:752502408032:repository/repo-blackjack\",\"arn:aws:ecr:eu-north-1:752502408032:repository/rep-blackjack/*\"]},{\"Action\":[\"ecs:TagResource\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:*TaskDefinition*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack:*\",\"arn:aws:ecs:eu-north-1:752502408032:task-definition/task-blackjack\"]},{\"Action\":[\"ecs:UpdateService\",\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteService\",\"ecs:CreateService\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack/*\",\"arn:aws:ecs:eu-north-1:752502408032:service/MainCluster/service-blackjack\"]},{\"Action\":[\"ecs:Describe*\",\"ecs:DeregisterTaskDefinition\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:*Target*\",\"elasticloadbalancing:*Rule*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:targetgroup/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener-rule/app/*\"]},{\"Action\":\"elasticloadbalancing:DescribeTargetGroups\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"iam:PassRole\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::752502408032:role/ecsTaskExecutionRole\"]}],\"Version\":\"2012-10-17\"}","common_policy_document":"{\"Statement\":[{\"Action\":\"acm:*Certificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":\"acm:RequestCertificate\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:acm:eu-north-1:752502408032:certificate/*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteTags\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateTags\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifyVpcAttribute\",\"ec2:ModifySubnetAttribute\",\"ec2:ModifySecurityGroupRules\",\"ec2:DisassociateRouteTable\",\"ec2:DetachInternetGateway\",\"ec2:Describe*\",\"ec2:DeleteVpcEndpoints\",\"ec2:DeleteVpc\",\"ec2:DeleteSubnet\",\"ec2:DeleteSecurityGroup\",\"ec2:DeleteRouteTable\",\"ec2:DeleteRoute\",\"ec2:DeleteInternetGateway\",\"ec2:CreateVpcEndpoint\",\"ec2:CreateVpc\",\"ec2:CreateSubnet\",\"ec2:CreateSecurityGroup\",\"ec2:CreateRouteTable\",\"ec2:CreateRoute\",\"ec2:CreateInternetGateway\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\",\"ec2:AttachInternetGateway\",\"ec2:AssociateRouteTable\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:UpdateSecurityGroupRuleDescriptionsIngress\",\"ec2:UpdateSecurityGroupRuleDescriptionsEgress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupEgress\",\"ec2:ModifySecurityGroupRules\",\"ec2:DeleteSecurityGroupRules\",\"ec2:CreateSecurityGroupIngress\",\"ec2:CreateSecurityGroupEgress\",\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:AuthorizeSecurityGroupEgress\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:security-group/*\",\"arn:aws:ec2:*:*:security-group-rule/*\"]},{\"Action\":[\"ec2:Describe*\",\"ec2:DeleteSecurityGroup\",\"ec2:CreateSecurityGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\",\"ec2:CreateTags\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:ModifyVpcEndpoint\",\"ec2:DeleteVpcEndpoints\",\"ec2:CreateVpcEndpoint\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:vpc/*\",\"arn:aws:ec2:*:*:vpc-endpoint/*\",\"arn:aws:ec2:*:*:subnet/*\",\"arn:aws:ec2:*:*:security-group/*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeSecurityGroupRules\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeVpcEndpoints\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribePrefixLists\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"ecs:List*\",\"ecs:Get*\",\"ecs:Describe*\",\"ecs:DeleteCluster\",\"ecs:CreateCluster\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster/*\",\"arn:aws:ecs:eu-north-1:752502408032:cluster/MainCluster\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":[\"elasticloadbalancing:Describe*\",\"elasticloadbalancing:*LoadBalancer*\",\"elasticloadbalancing:*Listener*\",\"elasticloadbalancing:*Certificates*\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:loadbalancer/app/main-alb/*\",\"arn:aws:elasticloadbalancing:eu-north-1:752502408032:listener/app/main-alb/*\"]},{\"Action\":\"elasticloadbalancing:Describe*\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":[\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\"],\"Effect\":\"Allow\",\"Resource\":[\"*\"]},{\"Action\":\"elasticloadbalancing:DescribeLoadBalancers\",\"Effect\":\"Allow\",\"Resource\":[\"*\"]}],\"Version\":\"2012-10-17\"}","portfolio_policy_document":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::www.carlssonk.com/*\",\"arn:aws:s3:::www.carlssonk.com\"]},{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*BucketWebsite\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::carlssonk.com/*\",\"arn:aws:s3:::carlssonk.com\"]}],\"Version\":\"2012-10-17\"}","terraform_diagram_policy_document":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::terraform.carlssonk.com/*\",\"arn:aws:s3:::terraform.carlssonk.com\"]}],\"Version\":\"2012-10-17\"}"},"workspace":null},"sensitive_values":{"config":{},"outputs":{}}},{"address":"module.terraform_diagram.module.iam_policy.aws_iam_policy.policy[0]","mode":"managed","type":"aws_iam_policy","name":"policy","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::752502408032:policy/terraform-terraform_diagram-policy","attachment_count":1,"description":"","id":"arn:aws:iam::752502408032:policy/terraform-terraform_diagram-policy","name":"terraform-terraform_diagram-policy","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"s3:List*\",\"s3:Get*\",\"s3:DeleteBucket\",\"s3:CreateBucket\",\"s3:*PublicAccessBlock\",\"s3:*BucketWebsite\",\"s3:*BucketPolicy\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::terraform.carlssonk.com/*\",\"arn:aws:s3:::terraform.carlssonk.com\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA26NFDQNQCQRMIO6I7","tags":{},"tags_all":{}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.terraform_diagram.module.bucket.data.aws_iam_policy_document.this","module.terraform_diagram.module.iam_policy.data.terraform_remote_state.previous","module.terraform_diagram.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","module.terraform_diagram.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","module.terraform_diagram.module.iam_policy.module.globals.data.local_file.globals"]},{"address":"module.terraform_diagram.module.iam_policy.aws_iam_role_policy_attachment.attachment[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attachment","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"terraform-execution-role-20240916202908956100000004","policy_arn":"arn:aws:iam::752502408032:policy/terraform-terraform_diagram-policy","role":"terraform-execution-role"},"sensitive_values":{},"depends_on":["module.terraform_diagram.module.bucket.data.aws_iam_policy_document.this","module.terraform_diagram.module.iam_policy.aws_iam_policy.policy","module.terraform_diagram.module.iam_policy.data.terraform_remote_state.previous","module.terraform_diagram.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","module.terraform_diagram.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","module.terraform_diagram.module.iam_policy.module.globals.data.local_file.globals"]}],"address":"module.terraform_diagram.module.iam_policy","child_modules":[{"resources":[{"address":"module.terraform_diagram.module.iam_policy.module.globals.data.http.cloudflare_ips_v4","mode":"data","type":"http","name":"cloudflare_ips_v4","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v4","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"173.245.48.0/20\n103.21.244.0/22\n103.22.200.0/22\n103.31.4.0/22\n141.101.64.0/18\n108.162.192.0/18\n190.93.240.0/20\n188.114.96.0/20\n197.234.240.0/22\n198.41.128.0/17\n162.158.0.0/15\n104.16.0.0/13\n104.24.0.0/14\n172.64.0.0/13\n131.0.72.0/22","response_body_base64":"MTczLjI0NS40OC4wLzIwCjEwMy4yMS4yNDQuMC8yMgoxMDMuMjIuMjAwLjAvMjIKMTAzLjMxLjQuMC8yMgoxNDEuMTAxLjY0LjAvMTgKMTA4LjE2Mi4xOTIuMC8xOAoxOTAuOTMuMjQwLjAvMjAKMTg4LjExNC45Ni4wLzIwCjE5Ny4yMzQuMjQwLjAvMjIKMTk4LjQxLjEyOC4wLzE3CjE2Mi4xNTguMC4wLzE1CjEwNC4xNi4wLjAvMTMKMTA0LjI0LjAuMC8xNAoxNzIuNjQuMC4wLzEzCjEzMS4wLjcyLjAvMjI=","response_headers":{"Age":"45088","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd80eb2acaa-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 15:16:16 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=anY8yFwa0Wfq29fCWg3QHtkgHq9xFEVRHFIqsrGk9SyWPKLZblXTum3NZcJKWaz5%2FrM71iN%2F41LErwHpMCBQc6nzwEcV116Zf9pfBcxL8D5wfvkxaGGnEhJOII7%2FCLdGKUgzsQ%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=h9X245G4UqNqdMmCi7spf1qeI5UAvyyyfnPMgMqngeY-1726544864-1.0.1.1-3T589n4F81GKW7V6RGqsDHoOaC4zw8f0bU12Dx4a3PmXUdWM8Cc27k5KXv4UCTC3e.5iLnYVkM.ZA.zMOCCrAuwnhp1_BLmr95lmL2mCZiU; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v4"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.terraform_diagram.module.iam_policy.module.globals.data.http.cloudflare_ips_v6","mode":"data","type":"http","name":"cloudflare_ips_v6","provider_name":"registry.terraform.io/hashicorp/http","schema_version":0,"values":{"body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","ca_cert_pem":null,"id":"https://www.cloudflare.com/ips-v6","insecure":null,"method":null,"request_body":null,"request_headers":{"Accept":"text/plain"},"request_timeout_ms":null,"response_body":"2400:cb00::/32\n2606:4700::/32\n2803:f800::/32\n2405:b500::/32\n2405:8100::/32\n2a06:98c0::/29\n2c0f:f248::/32","response_body_base64":"MjQwMDpjYjAwOjovMzIKMjYwNjo0NzAwOjovMzIKMjgwMzpmODAwOjovMzIKMjQwNTpiNTAwOjovMzIKMjQwNTo4MTAwOjovMzIKMmEwNjo5OGMwOjovMjkKMmMwZjpmMjQ4OjovMzI=","response_headers":{"Age":"37870","Alt-Svc":"h3=\":443\"; ma=86400","Cache-Control":"s-maxage=86400","Cf-Cache-Status":"HIT","Cf-Ray":"8c461dd80f6510e8-ORD","Content-Type":"text/plain;charset=UTF-8","Date":"Tue, 17 Sep 2024 03:47:44 GMT","Last-Modified":"Mon, 16 Sep 2024 17:16:34 GMT","Nel":"{\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}","Report-To":"{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=U0R8Pi%2F%2BAP7gMwsRqCB3Eh5aXoUPSMPAVoPbGudZRQdhMi%2F8AH6IfvtYacu9cU5FKFKABV4Mom%2Bqh3ZfvlM0ANRo1NBNskruUly%2FhbhNUp7bFCz5MnrVWOUModgBSoanAyVD0w%3D%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}","Server":"cloudflare","Set-Cookie":"__cf_bm=kDYykSRL321tC5.h.OS.MC628elrojJ.c.mRiX4ijrQ-1726544864-1.0.1.1-wSzNMkWN4A1P50dvu9Qr4rASeHyH.KCM_fWhuU2GE.8YxNuKdhmbKtiiQZ3ZQKzfeSqLMXASkVAikMl27A4pRJ.7.FBGcKKGqw1afGUVVKM; path=/; expires=Tue, 17-Sep-24 04:17:44 GMT; domain=.www.cloudflare.com; HttpOnly; Secure; SameSite=None","Vary":"Accept-Encoding"},"retry":null,"status_code":200,"url":"https://www.cloudflare.com/ips-v6"},"sensitive_values":{"request_headers":{},"response_headers":{}}},{"address":"module.terraform_diagram.module.iam_policy.module.globals.data.local_file.globals","mode":"data","type":"local_file","name":"globals","provider_name":"registry.terraform.io/hashicorp/local","schema_version":0,"values":{"content":"{\n  \"AWS_REGION\": \"eu-north-1\",\n  \"ORGANIZATION\": \"carlssonk\",\n  \"AWS_ACCOUNT_ID\": \"752502408032\",\n  \"workflow_step\": \"iam\",\n  \"cleanup_policies\": \"false\"\n}","content_base64":"ewogICJBV1NfUkVHSU9OIjogImV1LW5vcnRoLTEiLAogICJPUkdBTklaQVRJT04iOiAiY2FybHNzb25rIiwKICAiQVdTX0FDQ09VTlRfSUQiOiAiNzUyNTAyNDA4MDMyIiwKICAid29ya2Zsb3dfc3RlcCI6ICJpYW0iLAogICJjbGVhbnVwX3BvbGljaWVzIjogImZhbHNlIgp9","content_base64sha256":"jVgU9BZsbq01AxoJMuCaza95yv1yeC6lN9jI1dCFBLw=","content_base64sha512":"ytzSP2RrDQVqeQ9nDmb2fETFiWfbWhtb37+tIq8PM+oeyW4XsqExs8BbrB+5DchUK4wAK/XD0C5ZeqbHE0lO0g==","content_md5":"c7e7b6e3e6d69a34396faefaa9dabc34","content_sha1":"259664984e70d964b1b1e15317c173f3715635bd","content_sha256":"8d5814f4166c6ead35031a0932e09acdaf79cafd72782ea537d8c8d5d08504bc","content_sha512":"cadcd23f646b0d056a790f670e66f67c44c58967db5a1b5bdfbfad22af0f33ea1ec96e17b2a131b3c05bac1fb90dc8542b8c002bf5c3d02e597aa6c713494ed2","filename":"./globals.json","id":"259664984e70d964b1b1e15317c173f3715635bd"},"sensitive_values":{}}],"address":"module.terraform_diagram.module.iam_policy.module.globals"}]}]}]}}}
